<!DOCTYPE html>
<html lang="en">

<head th:replace="~{index :: head}"></head>

<body>
	<title>User Role Page</title>
	<!-- container section start -->
	<section id="container" class="">

		<!--header start-->
		<div th:replace="~{index :: header}"></div>
		<!--header end-->

		<!--sidebar start-->
		<div th:replace="~{index :: sidebar}"></div>
		<!--sidebar end-->

		<!--main content start-->
		<section id="main-content">
			<section class="wrapper">
				<div class="row">
					<div class="col-lg-12">
						<h3 class="page-header"><i class="fa fa-table"></i> USER TABLE </h3>
						<ol class="breadcrumb">
							<li><i class="fa fa-home"></i><a th:href="@{/index}">Home</a></li>
							<li><i class="fa fa-table"></i>Table</li>
							<li><i class="fa fa-th-list"></i>Basic Table</li>
						</ol>
					</div>
				</div>
				<!-- page start-->

				<div class="row">
					<div class="col-lg-12">
						<section class="panel">
							<header class="panel-heading">
								User Details
							</header>

							<button type="button" class="btn btn-primary" data-toggle="modal"
								data-target="#addModal">Add New</button>

							<table class="table table-striped table-advance table-hover">
								<tbody>
									<tr>
										<th><i class="icon_table"></i> Id</th>
										<th><i class="icon_table"></i>Username</th>
										<th><i class="icon_table"></i> Email</th>
										<th><i class="icon_table"></i> Role</th>
										<th><i class="icon_cogs"></i> Action</th>
									</tr>
									<tr th:each="user:${users}">
										<td th:text="${user.id}">Id</td>
										<td th:text="${user.fullName}">Username</td>
										<td th:text="${user.email}">Email</td>
										<td th:text="${user.role}">Role</td>
										<td>
											<div class="btn-group">
												<a class="btn btn-primary"
													th:href="@{/user-role/findById (id=${user.id})}"><i
														class="icon_pencil-edit"></i></a>
												<a class="btn btn-danger" id="deleteButton"
													th:href="@{/user-role/delete (id=${user.id})}"><i
														class="icon_close_alt2"></i></a>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</section>
					</div>
				</div>
				<!-- page end-->
			</section>
		</section>
		<!--main content end-->
		<div class="text-right">
			<div class="credits">
				<!--
            All the links in the footer should remain intact.
            You can delete the links only if you purchased the pro version.
            Licensing information: https://bootstrapmade.com/license/
            Purchase the pro version form: https://bootstrapmade.com/buy/?theme=NiceAdmin
          -->
				Designed by <a href="#">BootstrapMade</a>
			</div>
		</div>
	</section>
	<!-- container section end -->

	<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		aria-hidden="true">
		<form th:action="@{/user-role/addNew}" method="post">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">New User Record</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>

					<div class="modal-body">
						<div class="form-group">
							<label for="idAdd" class="col-form-label">Id:</label>
							<input type="text" class="form-control" id="idAdd" name="id" disabled>
						</div>

						<div class="form-group">
							<label for="descriptionAdd" class="col-form-label">Username:</label>
							<input type="text" class="form-control" id="descriptionAdd" name="fullName" required>
						</div>

						<div class="form-group">
							<label for="txtCodeAdd" class="col-form-label">Email:</label>
							<input type="text" class="form-control" id="txtCodeAdd" name="email">
						</div>

						<div class="form-group">
							<label for="txtCodeAdd" class="col-form-label">Password:</label>
							<input type="text" class="form-control" id="txtCodeAdd" name="password">
						</div>
					</div>

					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
						<button type="submit" class="btn btn-primary">Save</button>
					</div>
				</div>
			</div>
		</form>
	</div>

	<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
		<form th:action="@{/user-role/update}" method="put">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="editModalLabel">Edit User Data</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">

						<div class="form-group">
							<label for="idEdit" class="col-form-label">Id:</label>
							<input type="text" class="form-control" id="idEdit" name="id" readonly>
						</div>

						<div class="form-group">
							<label for="nameEdit" class="col-form-label">Username:</label>
							<input type="text" class="form-control" id="usernameEdit" name="fullName" required>
						</div>

						<div class="form-group">
							<label for="emailEdit" class="col-form-label">Email:</label>
							<input type="text" class="form-control" id="emailEdit" name="email">
						</div>

						<div class="form-group">
							<label for="passwordEdit" class="col-form-label">Password:</label>
							<input type="text" class="form-control" id="passwordEdit" name="password">
						</div>

						<div class="form-group">
							<label for="roleEdit" class="col-form-label">Change Role: </label>
							<select class="form-control" id="roleEdit" name="role">
								<option value="ROLE_USER">
									ROLE_USER
								</option>
								<option value="ROLE_ADMIN">
									ROLE_ADMIN
								</option>
							</select>
						</div>

					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
						<button type="submit" class="btn btn-primary">Save</button>
					</div>
				</div>
			</div>
		</form>
	</div>

	<div class="modal" tabindex="-1" role="dialog" id="deleteModal">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Confirm delete</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<p>Are you sure you want to delete this record?</p>
				</div>
				<div class="modal-footer">
					<a href="" class="btn btn-primary" id="delRef">Yes, Delete</a>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<!-- javascripts -->
	<script src="../js/jquery.js"></script>
	<script src="../js/bootstrap.min.js"></script>
	<!-- nicescroll -->
	<script src="../js/jquery.scrollTo.min.js"></script>
	<script src="../js/jquery.nicescroll.js" type="text/javascript"></script>
	<!--custome script for all page-->
	<script src="../js/scripts.js"></script>
	<script type="text/javascript" src="../static/js/user-role.js" th:src="@{/js/user-role.js}"></script>


</body>

</html>